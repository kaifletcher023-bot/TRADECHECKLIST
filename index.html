<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trading Setup Checklist</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      padding: 20px;
    }
    .container {
      max-width: 400px;
      margin: auto;
      background: #1a1a1a;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    label { display: block; margin: 10px 0; font-size: 18px; }
    input { transform: scale(1.3); margin-right: 10px; }
    #score { margin-top: 20px; font-size: 22px; font-weight: bold; }
    .timer { font-size: 20px; margin-bottom: 15px; color: #4caf50; }
  </style>
</head>
<body>
  <div class="container">
    <div class="timer" id="marketTimer">Market Open Timer Loading...</div>

    <h2>Setup Checklist</h2>

    <label><input type="checkbox" onclick="updateScore()"> Liquidity Swept</label>
    <label><input type="checkbox" onclick="updateScore()"> Market Structure Shift (MSS)</label>
    <label><input type="checkbox" onclick="updateScore()"> FVG Formed</label>
    <label><input type="checkbox" onclick="updateScore()"> FVG Returned To</label>

    <div id="score">Setup Score: 0%</div>
  </div>

  <script>
    function updateScore() {
      const checks = document.querySelectorAll('input[type="checkbox"]');
      let total = checks.length;
      let done = 0;
      checks.forEach(c => { if(c.checked) done++; });
      let percent = Math.round((done / total) * 100);
      document.getElementById('score').innerText = `Setup Score: ${percent}%`;
    }

    // MARKET OPEN TIMER â€“ Default NY Open 14:30 UTC
    function updateMarketTimer() {
      const now = new Date();
      const open = new Date();
      open.setUTCHours(14, 30, 0, 0); // NYSE open UTC

      if (now > open) {
        open.setUTCDate(open.getUTCDate() + 1); // next day
      }

      const diff = open - now;

      const hours = Math.floor(diff / 1000 / 60 / 60);
      const minutes = Math.floor((diff / 1000 / 60) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById("marketTimer").innerText =
        `Time Until NY Open: ${hours}h ${minutes}m ${seconds}s`;
    }

    setInterval(updateMarketTimer, 1000);
    updateMarketTimer();
  </script>
<script>
// Audio alert
const audio = new Audio('https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg');
function playAlert(){ audio.play(); }

// Theme toggle
function toggleTheme(){
  document.body.classList.toggle('dark');
}

// Timer alert hookup
const timerEl=document.getElementById('ny-timer');
const observer=new MutationObserver(()=>{
  if(timerEl.textContent.trim()==='Market Open!'){ playAlert(); }
});
observer.observe(timerEl,{childList:true});
</script>
</body>
</html>
